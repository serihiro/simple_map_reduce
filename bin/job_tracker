#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler/setup'
require 'simple_map_reduce'

config = { access_key_id: 'MINIO_ACCESS_KEY', secret_access_key: 'MINIO_SECRET_KEY',
           endpoint: 'http://127.0.0.1:9000', region: 'us-east-1', force_path_style: true }
SimpleMapReduce.s3_config = config
SimpleMapReduce.s3_intermediate_bucket_name = 'intermediate'
SimpleMapReduce::Server::JobTracker.run!(port: 4567) do
  SimpleMapReduce::Server::JobTracker.setup_job_tracker
end
